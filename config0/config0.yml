global:
  platform: config0-publish:::platform-eval-config0
  metadata:   
    labels:
      infrastructure:
        provider: aws
        product: nat-instance
        area: networking
infrastructure:
  natgw:
    platform:
      stack_ref: aws_nat_inst_vpc
    arguments:
      aws_default_region: eu-west-1
      service_name: eval-config0
      instance_types: t3.nano,t3a.nano
      cidr_ingress_accept: 0.0.0.0/0
      use_spot_instance: true
      vpc_id: selector:::network_vars::vpc_id
      public_subnet_ids: selector:::network_vars::public_subnet_ids
      private_route_table_id: selector:::network_vars::private_route_table_id
    metadata:
      labels:
        - infrastructure
