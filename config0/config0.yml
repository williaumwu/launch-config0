global:
   platform: config0-publish:::platform-eval-config0
   metadata:   
     labels:
        infrastructure:
          provider: aws
          product: kafka
infrastructure:
   kafka:
     platform:
        stack_ref: kafka_on_ec2
     arguments:
       spot: True
       aws_default_region: eu-west-1
       vpc_name: selector:::network_vars::vpc_name  # selector definition injected by platform configs
       vpc_id: selector:::network_vars::vpc_id  # selector definition injected by platform configs
       subnet_ids: selector:::network_vars::public_subnet_ids  # selector definition injected by platform configs
       sg_id: selector:::network_vars::db_sg_id  # selector definition injected by platform configs
       bastion_sg_id: selector:::network_vars::bastion_sg_id  # selector definition injected by platform configs
       bastion_subnet_ids: selector:::network_vars::public_subnet_ids  # selector definition injected by platform configs
       bastion_destroy: true
       kafka_cluster: kafka-cluster-dev
       ami_filter: ubuntu/images/hvm-ssd/ubuntu-bionic-18.04-amd64-server-*
       ami_owner: 099720109477 
       bastion_ami_filter: ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-*
       bastion_ami_owner: 099720109477 
       instance_type: t3.micro
       num_of_zookeeper: 1
       num_of_schema_registry: 1
       num_of_broker: 1
       num_of_rest: 1
       num_of_ksql: 1
       disksize: 25
       publish_to_saas: true
     metadata:
       labels:
         - infrastructure
